if((typeof aptimizer)==="undefined")var aptimizer={};(function(){/**
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/
aptimizer['Crypto']=function(s,p){var m={},l=m.lib={},n=function(){},r=l.Base={extend:function(b){n.prototype=this;var h=new n;b&&h.mixIn(b);h.hasOwnProperty("init")||(h.init=function(){h.$super.init.apply(this,arguments)});h.init.prototype=h;h.$super=this;return h},create:function(){var b=this.extend();b.init.apply(b,arguments);return b},init:function(){},mixIn:function(b){for(var h in b)b.hasOwnProperty(h)&&(this[h]=b[h]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}},
q=l.WordArray=r.extend({init:function(b,h){b=this.words=b||[];this.sigBytes=h!=p?h:4*b.length},toString:function(b){return(b||t).stringify(this)},concat:function(b){var h=this.words,a=b.words,j=this.sigBytes;b=b.sigBytes;this.clamp();if(j%4)for(var g=0;g<b;g++)h[j+g>>>2]|=(a[g>>>2]>>>24-8*(g%4)&255)<<24-8*((j+g)%4);else if(65535<a.length)for(g=0;g<b;g+=4)h[j+g>>>2]=a[g>>>2];else h.push.apply(h,a);this.sigBytes+=b;return this},clamp:function(){var b=this.words,h=this.sigBytes;b[h>>>2]&=4294967295<<
32-8*(h%4);b.length=s.ceil(h/4)},clone:function(){var b=r.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){for(var h=[],a=0;a<b;a+=4)h.push(4294967296*s.random()|0);return new q.init(h,b)}}),v=m.enc={},t=v.Hex={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j<b;j++){var k=a[j>>>2]>>>24-8*(j%4)&255;g.push((k>>>4).toString(16));g.push((k&15).toString(16))}return g.join("")},parse:function(b){for(var a=b.length,g=[],j=0;j<a;j+=2)g[j>>>3]|=parseInt(b.substr(j,
2),16)<<24-4*(j%8);return new q.init(g,a/2)}},a=v.Latin1={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j<b;j++)g.push(String.fromCharCode(a[j>>>2]>>>24-8*(j%4)&255));return g.join("")},parse:function(b){for(var a=b.length,g=[],j=0;j<a;j++)g[j>>>2]|=(b.charCodeAt(j)&255)<<24-8*(j%4);return new q.init(g,a)}},u=v.Utf8={stringify:function(b){try{return decodeURIComponent(escape(a.stringify(b)))}catch(g){throw Error("Malformed UTF-8 data");}},parse:function(b){return a.parse(unescape(encodeURIComponent(b)))}},
g=l.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=u.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(b){var a=this._data,g=a.words,j=a.sigBytes,k=this.blockSize,m=j/(4*k),m=b?s.ceil(m):s.max((m|0)-this._minBufferSize,0);b=m*k;j=s.min(4*b,j);if(b){for(var l=0;l<b;l+=k)this._doProcessBlock(g,l);l=g.splice(0,b);a.sigBytes-=j}return new q.init(l,j)},clone:function(){var b=r.clone.call(this);
b._data=this._data.clone();return b},_minBufferSize:0});l.Hasher=g.extend({cfg:r.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){g.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b&&this._append(b);return this._doFinalize()},blockSize:16,_createHelper:function(b){return function(a,g){return(new b.init(g)).finalize(a)}},_createHmacHelper:function(b){return function(a,g){return(new k.HMAC.init(b,
g)).finalize(a)}}});var k=m.algo={};return m}(Math);
(function(s){function p(a,k,b,h,l,j,m){a=a+(k&b|~k&h)+l+m;return(a<<j|a>>>32-j)+k}function m(a,k,b,h,l,j,m){a=a+(k&h|b&~h)+l+m;return(a<<j|a>>>32-j)+k}function l(a,k,b,h,l,j,m){a=a+(k^b^h)+l+m;return(a<<j|a>>>32-j)+k}function n(a,k,b,h,l,j,m){a=a+(b^(k|~h))+l+m;return(a<<j|a>>>32-j)+k}for(var r=aptimizer['Crypto'],q=r.lib,v=q.WordArray,t=q.Hasher,q=r.algo,a=[],u=0;64>u;u++)a[u]=4294967296*s.abs(s.sin(u+1))|0;q=q.MD5=t.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(g,k){for(var b=0;16>b;b++){var h=k+b,w=g[h];g[h]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var b=this._hash.words,h=g[k+0],w=g[k+1],j=g[k+2],q=g[k+3],r=g[k+4],s=g[k+5],t=g[k+6],u=g[k+7],v=g[k+8],x=g[k+9],y=g[k+10],z=g[k+11],A=g[k+12],B=g[k+13],C=g[k+14],D=g[k+15],c=b[0],d=b[1],e=b[2],f=b[3],c=p(c,d,e,f,h,7,a[0]),f=p(f,c,d,e,w,12,a[1]),e=p(e,f,c,d,j,17,a[2]),d=p(d,e,f,c,q,22,a[3]),c=p(c,d,e,f,r,7,a[4]),f=p(f,c,d,e,s,12,a[5]),e=p(e,f,c,d,t,17,a[6]),d=p(d,e,f,c,u,22,a[7]),
c=p(c,d,e,f,v,7,a[8]),f=p(f,c,d,e,x,12,a[9]),e=p(e,f,c,d,y,17,a[10]),d=p(d,e,f,c,z,22,a[11]),c=p(c,d,e,f,A,7,a[12]),f=p(f,c,d,e,B,12,a[13]),e=p(e,f,c,d,C,17,a[14]),d=p(d,e,f,c,D,22,a[15]),c=m(c,d,e,f,w,5,a[16]),f=m(f,c,d,e,t,9,a[17]),e=m(e,f,c,d,z,14,a[18]),d=m(d,e,f,c,h,20,a[19]),c=m(c,d,e,f,s,5,a[20]),f=m(f,c,d,e,y,9,a[21]),e=m(e,f,c,d,D,14,a[22]),d=m(d,e,f,c,r,20,a[23]),c=m(c,d,e,f,x,5,a[24]),f=m(f,c,d,e,C,9,a[25]),e=m(e,f,c,d,q,14,a[26]),d=m(d,e,f,c,v,20,a[27]),c=m(c,d,e,f,B,5,a[28]),f=m(f,c,
d,e,j,9,a[29]),e=m(e,f,c,d,u,14,a[30]),d=m(d,e,f,c,A,20,a[31]),c=l(c,d,e,f,s,4,a[32]),f=l(f,c,d,e,v,11,a[33]),e=l(e,f,c,d,z,16,a[34]),d=l(d,e,f,c,C,23,a[35]),c=l(c,d,e,f,w,4,a[36]),f=l(f,c,d,e,r,11,a[37]),e=l(e,f,c,d,u,16,a[38]),d=l(d,e,f,c,y,23,a[39]),c=l(c,d,e,f,B,4,a[40]),f=l(f,c,d,e,h,11,a[41]),e=l(e,f,c,d,q,16,a[42]),d=l(d,e,f,c,t,23,a[43]),c=l(c,d,e,f,x,4,a[44]),f=l(f,c,d,e,A,11,a[45]),e=l(e,f,c,d,D,16,a[46]),d=l(d,e,f,c,j,23,a[47]),c=n(c,d,e,f,h,6,a[48]),f=n(f,c,d,e,u,10,a[49]),e=n(e,f,c,d,
C,15,a[50]),d=n(d,e,f,c,s,21,a[51]),c=n(c,d,e,f,A,6,a[52]),f=n(f,c,d,e,q,10,a[53]),e=n(e,f,c,d,y,15,a[54]),d=n(d,e,f,c,w,21,a[55]),c=n(c,d,e,f,v,6,a[56]),f=n(f,c,d,e,D,10,a[57]),e=n(e,f,c,d,t,15,a[58]),d=n(d,e,f,c,B,21,a[59]),c=n(c,d,e,f,r,6,a[60]),f=n(f,c,d,e,z,10,a[61]),e=n(e,f,c,d,j,15,a[62]),d=n(d,e,f,c,x,21,a[63]);b[0]=b[0]+c|0;b[1]=b[1]+d|0;b[2]=b[2]+e|0;b[3]=b[3]+f|0},_doFinalize:function(){var a=this._data,k=a.words,b=8*this._nDataBytes,h=8*a.sigBytes;k[h>>>5]|=128<<24-h%32;var l=s.floor(b/
4294967296);k[(h+64>>>9<<4)+15]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360;k[(h+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360;a.sigBytes=4*(k.length+1);this._process();a=this._hash;k=a.words;for(b=0;4>b;b++)h=k[b],k[b]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360;return a},clone:function(){var a=t.clone.call(this);a._hash=this._hash.clone();return a}});r.MD5=t._createHelper(q);r.HmacMD5=t._createHmacHelper(q)})(Math);
/** 
 * zlib.js  
 * 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License 
 */ (function() {'use strict';var n=void 0,u=!0,aa=this;function ba(e,d){var c=e.split("."),f=aa;!(c[0]in f)&&f.execScript&&f.execScript("var "+c[0]);for(var a;c.length&&(a=c.shift());)!c.length&&d!==n?f[a]=d:f=f[a]?f[a]:f[a]={}};var C="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array;function K(e,d){this.index="number"===typeof d?d:0;this.d=0;this.buffer=e instanceof(C?Uint8Array:Array)?e:new (C?Uint8Array:Array)(32768);if(2*this.buffer.length<=this.index)throw Error("invalid index");this.buffer.length<=this.index&&ca(this)}function ca(e){var d=e.buffer,c,f=d.length,a=new (C?Uint8Array:Array)(f<<1);if(C)a.set(d);else for(c=0;c<f;++c)a[c]=d[c];return e.buffer=a}
K.prototype.a=function(e,d,c){var f=this.buffer,a=this.index,b=this.d,k=f[a],m;c&&1<d&&(e=8<d?(L[e&255]<<24|L[e>>>8&255]<<16|L[e>>>16&255]<<8|L[e>>>24&255])>>32-d:L[e]>>8-d);if(8>d+b)k=k<<d|e,b+=d;else for(m=0;m<d;++m)k=k<<1|e>>d-m-1&1,8===++b&&(b=0,f[a++]=L[k],k=0,a===f.length&&(f=ca(this)));f[a]=k;this.buffer=f;this.d=b;this.index=a};K.prototype.finish=function(){var e=this.buffer,d=this.index,c;0<this.d&&(e[d]<<=8-this.d,e[d]=L[e[d]],d++);C?c=e.subarray(0,d):(e.length=d,c=e);return c};
var ga=new (C?Uint8Array:Array)(256),M;for(M=0;256>M;++M){for(var R=M,S=R,ha=7,R=R>>>1;R;R>>>=1)S<<=1,S|=R&1,--ha;ga[M]=(S<<ha&255)>>>0}var L=ga;function ja(e){this.buffer=new (C?Uint16Array:Array)(2*e);this.length=0}ja.prototype.getParent=function(e){return 2*((e-2)/4|0)};ja.prototype.push=function(e,d){var c,f,a=this.buffer,b;c=this.length;a[this.length++]=d;for(a[this.length++]=e;0<c;)if(f=this.getParent(c),a[c]>a[f])b=a[c],a[c]=a[f],a[f]=b,b=a[c+1],a[c+1]=a[f+1],a[f+1]=b,c=f;else break;return this.length};
ja.prototype.pop=function(){var e,d,c=this.buffer,f,a,b;d=c[0];e=c[1];this.length-=2;c[0]=c[this.length];c[1]=c[this.length+1];for(b=0;;){a=2*b+2;if(a>=this.length)break;a+2<this.length&&c[a+2]>c[a]&&(a+=2);if(c[a]>c[b])f=c[b],c[b]=c[a],c[a]=f,f=c[b+1],c[b+1]=c[a+1],c[a+1]=f;else break;b=a}return{index:e,value:d,length:this.length}};function ka(e,d){this.e=ma;this.f=0;this.input=C&&e instanceof Array?new Uint8Array(e):e;this.c=0;d&&(d.lazy&&(this.f=d.lazy),"number"===typeof d.compressionType&&(this.e=d.compressionType),d.outputBuffer&&(this.b=C&&d.outputBuffer instanceof Array?new Uint8Array(d.outputBuffer):d.outputBuffer),"number"===typeof d.outputIndex&&(this.c=d.outputIndex));this.b||(this.b=new (C?Uint8Array:Array)(32768))}var ma=2,T=[],U;
for(U=0;288>U;U++)switch(u){case 143>=U:T.push([U+48,8]);break;case 255>=U:T.push([U-144+400,9]);break;case 279>=U:T.push([U-256+0,7]);break;case 287>=U:T.push([U-280+192,8]);break;default:throw"invalid literal: "+U;}
ka.prototype.h=function(){var e,d,c,f,a=this.input;switch(this.e){case 0:c=0;for(f=a.length;c<f;){d=C?a.subarray(c,c+65535):a.slice(c,c+65535);c+=d.length;var b=d,k=c===f,m=n,g=n,p=n,v=n,x=n,l=this.b,h=this.c;if(C){for(l=new Uint8Array(this.b.buffer);l.length<=h+b.length+5;)l=new Uint8Array(l.length<<1);l.set(this.b)}m=k?1:0;l[h++]=m|0;g=b.length;p=~g+65536&65535;l[h++]=g&255;l[h++]=g>>>8&255;l[h++]=p&255;l[h++]=p>>>8&255;if(C)l.set(b,h),h+=b.length,l=l.subarray(0,h);else{v=0;for(x=b.length;v<x;++v)l[h++]=
b[v];l.length=h}this.c=h;this.b=l}break;case 1:var q=new K(C?new Uint8Array(this.b.buffer):this.b,this.c);q.a(1,1,u);q.a(1,2,u);var t=na(this,a),w,da,z;w=0;for(da=t.length;w<da;w++)if(z=t[w],K.prototype.a.apply(q,T[z]),256<z)q.a(t[++w],t[++w],u),q.a(t[++w],5),q.a(t[++w],t[++w],u);else if(256===z)break;this.b=q.finish();this.c=this.b.length;break;case ma:var B=new K(C?new Uint8Array(this.b.buffer):this.b,this.c),ra,J,N,O,P,Ia=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W,sa,X,ta,ea,ia=Array(19),
ua,Q,fa,y,va;ra=ma;B.a(1,1,u);B.a(ra,2,u);J=na(this,a);W=oa(this.j,15);sa=pa(W);X=oa(this.i,7);ta=pa(X);for(N=286;257<N&&0===W[N-1];N--){}for(O=30;1<O&&0===X[O-1];O--){}var wa=N,xa=O,F=new (C?Uint32Array:Array)(wa+xa),r,G,s,Y,E=new (C?Uint32Array:Array)(316),D,A,H=new (C?Uint8Array:Array)(19);for(r=G=0;r<wa;r++)F[G++]=W[r];for(r=0;r<xa;r++)F[G++]=X[r];if(!C){r=0;for(Y=H.length;r<Y;++r)H[r]=0}r=D=0;for(Y=F.length;r<Y;r+=G){for(G=1;r+G<Y&&F[r+G]===F[r];++G){}s=G;if(0===F[r])if(3>s)for(;0<s--;)E[D++]=0,
H[0]++;else for(;0<s;)A=138>s?s:138,A>s-3&&A<s&&(A=s-3),10>=A?(E[D++]=17,E[D++]=A-3,H[17]++):(E[D++]=18,E[D++]=A-11,H[18]++),s-=A;else if(E[D++]=F[r],H[F[r]]++,s--,3>s)for(;0<s--;)E[D++]=F[r],H[F[r]]++;else for(;0<s;)A=6>s?s:6,A>s-3&&A<s&&(A=s-3),E[D++]=16,E[D++]=A-3,H[16]++,s-=A}e=C?E.subarray(0,D):E.slice(0,D);ea=oa(H,7);for(y=0;19>y;y++)ia[y]=ea[Ia[y]];for(P=19;4<P&&0===ia[P-1];P--){}ua=pa(ea);B.a(N-257,5,u);B.a(O-1,5,u);B.a(P-4,4,u);for(y=0;y<P;y++)B.a(ia[y],3,u);y=0;for(va=e.length;y<va;y++)if(Q=
e[y],B.a(ua[Q],ea[Q],u),16<=Q){y++;switch(Q){case 16:fa=2;break;case 17:fa=3;break;case 18:fa=7;break;default:throw"invalid code: "+Q;}B.a(e[y],fa,u)}var ya=[sa,W],za=[ta,X],I,Aa,Z,la,Ba,Ca,Da,Ea;Ba=ya[0];Ca=ya[1];Da=za[0];Ea=za[1];I=0;for(Aa=J.length;I<Aa;++I)if(Z=J[I],B.a(Ba[Z],Ca[Z],u),256<Z)B.a(J[++I],J[++I],u),la=J[++I],B.a(Da[la],Ea[la],u),B.a(J[++I],J[++I],u);else if(256===Z)break;this.b=B.finish();this.c=this.b.length;break;default:throw"invalid compression type";}return this.b};
function qa(e,d){this.length=e;this.g=d}
var Fa=function(){function e(a){switch(u){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw"invalid length: "+a;}}var d=[],c,f;for(c=3;258>=c;c++)f=e(c),d[c]=f[2]<<24|
f[1]<<16|f[0];return d}(),Ga=C?new Uint32Array(Fa):Fa;
function na(e,d){function c(a,c){var b=a.g,d=[],f=0,e;e=Ga[a.length];d[f++]=e&65535;d[f++]=e>>16&255;d[f++]=e>>24;var g;switch(u){case 1===b:g=[0,b-1,0];break;case 2===b:g=[1,b-2,0];break;case 3===b:g=[2,b-3,0];break;case 4===b:g=[3,b-4,0];break;case 6>=b:g=[4,b-5,1];break;case 8>=b:g=[5,b-7,1];break;case 12>=b:g=[6,b-9,2];break;case 16>=b:g=[7,b-13,2];break;case 24>=b:g=[8,b-17,3];break;case 32>=b:g=[9,b-25,3];break;case 48>=b:g=[10,b-33,4];break;case 64>=b:g=[11,b-49,4];break;case 96>=b:g=[12,b-
65,5];break;case 128>=b:g=[13,b-97,5];break;case 192>=b:g=[14,b-129,6];break;case 256>=b:g=[15,b-193,6];break;case 384>=b:g=[16,b-257,7];break;case 512>=b:g=[17,b-385,7];break;case 768>=b:g=[18,b-513,8];break;case 1024>=b:g=[19,b-769,8];break;case 1536>=b:g=[20,b-1025,9];break;case 2048>=b:g=[21,b-1537,9];break;case 3072>=b:g=[22,b-2049,10];break;case 4096>=b:g=[23,b-3073,10];break;case 6144>=b:g=[24,b-4097,11];break;case 8192>=b:g=[25,b-6145,11];break;case 12288>=b:g=[26,b-8193,12];break;case 16384>=
b:g=[27,b-12289,12];break;case 24576>=b:g=[28,b-16385,13];break;case 32768>=b:g=[29,b-24577,13];break;default:throw"invalid distance";}e=g;d[f++]=e[0];d[f++]=e[1];d[f++]=e[2];var k,m;k=0;for(m=d.length;k<m;++k)l[h++]=d[k];t[d[0]]++;w[d[3]]++;q=a.length+c-1;x=null}var f,a,b,k,m,g={},p,v,x,l=C?new Uint16Array(2*d.length):[],h=0,q=0,t=new (C?Uint32Array:Array)(286),w=new (C?Uint32Array:Array)(30),da=e.f,z;if(!C){for(b=0;285>=b;)t[b++]=0;for(b=0;29>=b;)w[b++]=0}t[256]=1;f=0;for(a=d.length;f<a;++f){b=
m=0;for(k=3;b<k&&f+b!==a;++b)m=m<<8|d[f+b];g[m]===n&&(g[m]=[]);p=g[m];if(!(0<q--)){for(;0<p.length&&32768<f-p[0];)p.shift();if(f+3>=a){x&&c(x,-1);b=0;for(k=a-f;b<k;++b)z=d[f+b],l[h++]=z,++t[z];break}0<p.length?(v=Ha(d,f,p),x?x.length<v.length?(z=d[f-1],l[h++]=z,++t[z],c(v,0)):c(x,-1):v.length<da?x=v:c(v,0)):x?c(x,-1):(z=d[f],l[h++]=z,++t[z])}p.push(f)}l[h++]=256;t[256]++;e.j=t;e.i=w;return C?l.subarray(0,h):l}
function Ha(e,d,c){var f,a,b=0,k,m,g,p,v=e.length;m=0;p=c.length;a:for(;m<p;m++){f=c[p-m-1];k=3;if(3<b){for(g=b;3<g;g--)if(e[f+g-1]!==e[d+g-1])continue a;k=b}for(;258>k&&d+k<v&&e[f+k]===e[d+k];)++k;k>b&&(a=f,b=k);if(258===k)break}return new qa(b,d-a)}
function oa(e,d){var c=e.length,f=new ja(572),a=new (C?Uint8Array:Array)(c),b,k,m,g,p;if(!C)for(g=0;g<c;g++)a[g]=0;for(g=0;g<c;++g)0<e[g]&&f.push(g,e[g]);b=Array(f.length/2);k=new (C?Uint32Array:Array)(f.length/2);if(1===b.length)return a[f.pop().index]=1,a;g=0;for(p=f.length/2;g<p;++g)b[g]=f.pop(),k[g]=b[g].value;m=Ja(k,k.length,d);g=0;for(p=b.length;g<p;++g)a[b[g].index]=m[g];return a}
function Ja(e,d,c){function f(a){var b=g[a][p[a]];b===d?(f(a+1),f(a+1)):--k[b];++p[a]}var a=new (C?Uint16Array:Array)(c),b=new (C?Uint8Array:Array)(c),k=new (C?Uint8Array:Array)(d),m=Array(c),g=Array(c),p=Array(c),v=(1<<c)-d,x=1<<c-1,l,h,q,t,w;a[c-1]=d;for(h=0;h<c;++h)v<x?b[h]=0:(b[h]=1,v-=x),v<<=1,a[c-2-h]=(a[c-1-h]/2|0)+d;a[0]=b[0];m[0]=Array(a[0]);g[0]=Array(a[0]);for(h=1;h<c;++h)a[h]>2*a[h-1]+b[h]&&(a[h]=2*a[h-1]+b[h]),m[h]=Array(a[h]),g[h]=Array(a[h]);for(l=0;l<d;++l)k[l]=c;for(q=0;q<a[c-1];++q)m[c-
1][q]=e[q],g[c-1][q]=q;for(l=0;l<c;++l)p[l]=0;1===b[c-1]&&(--k[0],++p[c-1]);for(h=c-2;0<=h;--h){t=l=0;w=p[h+1];for(q=0;q<a[h];q++)t=m[h+1][w]+m[h+1][w+1],t>e[l]?(m[h][q]=t,g[h][q]=d,w+=2):(m[h][q]=e[l],g[h][q]=l,++l);p[h]=0;1===b[h]&&f(h)}return k}
function pa(e){var d=new (C?Uint16Array:Array)(e.length),c=[],f=[],a=0,b,k,m,g;b=0;for(k=e.length;b<k;b++)c[e[b]]=(c[e[b]]|0)+1;b=1;for(k=16;b<=k;b++)f[b]=a,a+=c[b]|0,a<<=1;b=0;for(k=e.length;b<k;b++){a=f[e[b]];f[e[b]]+=1;m=d[b]=0;for(g=e[b];m<g;m++)d[b]=d[b]<<1|a&1,a>>>=1}return d};ba("aptimizer.RawDeflate",ka);ba("aptimizer.RawDeflate.prototype.compress",ka.prototype.h);var Ka={NONE:0,FIXED:1,DYNAMIC:ma},V,La,$,Ma;if(Object.keys)V=Object.keys(Ka);else for(La in V=[],$=0,Ka)V[$++]=La;$=0;for(Ma=V.length;$<Ma;++$)La=V[$],ba("aptimizer.RawDeflate.CompressionType."+La,Ka[La]);}).call(this);var i=!0,j=null,k=!1;function l(a){return function(){return a}}function aa(){aptimizer.k("beforeunload",aa);for(var a=0,b=n.length;a<b;++a)n[a]();n=j}function ba(){aptimizer.k("load",ba);var a=new ca;a.open("GET",aptimizer.d+"aptimized-clientapi.js?v="+aptimizer.updateApi,i);a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var a=new Date;a.setFullYear(a.getFullYear()+1);document.cookie="apt_api="+aptimizer.updateApi+"; path=/; expires="+a.toGMTString()}};a.send()}
function da(){var a=window.setInterval(function(){var a=p.length;if(aptimizer.ib){if(a){var c;if(0===ea){r=document.getElementById("aptimize-ib-tbl-log");if(!r)return;r=r.firstElementChild;if(!r)return;c=document.createElement("tr");c.className="aptimize-ib-headers";aptimizer.ib.addCol(c,"Log messages").colSpan="2";r.appendChild(c)}for(var d=0;d<a;++d)c=document.createElement("tr"),c.className=0===ea++%2?"aptimize-ib-flop":"aptimize-ib-flip",aptimizer.ib.addCol(c,p[d]),r.appendChild(c);p=[]}}else a&&
(p=[])},1E3);aptimizer.f(function(){window.clearInterval(a)})}var s=[],t=[],n=[],fa=document.createElement("a"),ca=window.XMLHttpRequest,p=[],ea=0,r=j;aptimizer.addBodyStartListener=function(a){s.push(a)};aptimizer.bodyStart=function(){if(!aptimizer.hasReachedBodyStart){for(var a=0,b=s.length;a<b;++a)s[a]();aptimizer.hasReachedBodyStart=i;s=j}};aptimizer.addBodyEndListener=function(a){t.push(a)};
aptimizer.bodyEnd=function(){if(!aptimizer.hasReachedBodyEnd){for(var a=0,b=t.length;a<b;++a)t[a]();aptimizer.hasReachedBodyEnd=i;t=j}};aptimizer.log=function(a,b){a<=aptimizer.logLevel&&(window.console&&console.log(b),aptimizer.debugMode&&p.push(b))};aptimizer.f=function(a){n.push(a)};aptimizer.d=window.location.protocol+"//"+window.location.host+aptimizer.scope.path;aptimizer.D=window.location.host;aptimizer.m=/\s*apt\-img([a-zA-Z0-9_\-])*\s*/gi;
aptimizer.b=function(a,b,c){for(var d=[],f;(f=b.exec(a))!==j;)d.push({value:f[0],o:f.index});for(b=d.length-1;0<=b;--b)f=c(d[b]),a=a.substr(0,d[b].o)+f+a.substr(d[b].o+d[b].value.length);return a};aptimizer.A=function(a){for(var b=[],c=[],d=0,f=a.length;d<f;d++){var e=a.charCodeAt(d);if(255>e)c.push(e&255);else{b=[];do b.push(e&255),e>>=8;while(e);for(e=b.length-1;0<=e;--e)c.push(b[e])}}return c};
aptimizer.r=function(a){for(var b="",c,d,f,e,g,h,m=0,q=a.length;m<q;)c=a[m++],d=a[m++],f=a[m++],e=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|f>>6,h=f&63,isNaN(d)?g=h=64:isNaN(f)&&(h=64),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_$=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_$=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_$=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_$=".charAt(h);return b};
aptimizer.t=function(a){a=aptimizer.A(a);a=(new aptimizer.RawDeflate(a)).compress();return aptimizer.r(a)};aptimizer.q=function(a){return aptimizer.Crypto.MD5(a).toString().toUpperCase()};aptimizer.i=function(a){fa.href=a;return fa.href};aptimizer.j=function(a){!a.addEventListener&&(a.attachEvent&&!a.__aptImgLoadHack)&&(a.__aptImgLoadHack=function(a){a=a||event;a=a.target||a.srcElement;a.className+=""},a.attachEvent("onload",a.__aptImgLoadHack))};
aptimizer.e=function(a,b){window.addEventListener?window.addEventListener(a,b,k):window.attachEvent?window.attachEvent("on"+a,b):aptimizer.log(0,"Unable to add event handler for "+a)};aptimizer.k=function(a,b){window.removeEventListener?window.removeEventListener(a,b,k):window.detachEvent?window.detachEvent("on"+a,b):aptimizer.log(0,"Unable to remove event handler for "+a)};aptimizer.debugMode&&aptimizer.e("load",da);aptimizer.updateApi&&aptimizer.e("load",ba);aptimizer.e("beforeunload",aa);
function u(a,b,c){var d=k;if(a.hasAttribute){a.hasAttribute(v)&&a.removeAttribute(v);0<=a.className.indexOf("apt-img")&&(d=i,a.className=aptimizer.b(a.className,aptimizer.m,l("")),0===a.className.length&&a.removeAttribute("class"));for(var f=0,e=ga.length;f<e;++f)if(ga[f](a,c,b))return}d&&aptimizer.j(a);b.call(a,c)}function ha(a,b,c){return a.getAttribute&&a.getAttribute(v)?(a=a.getAttribute(v),c&&0>a.indexOf("://")?aptimizer.i(a):a):b.call(a)}
function ia(a){var b=a.prototype.getAttribute;a.prototype.getAttribute=function(a){var c=a.toLowerCase();return c===w||c===x?ha(this,function(){return b.call(this,a)},k):b.call(this,a)};var c=a.prototype.setAttribute;a.prototype.setAttribute=function(a,e){var d=a.toLowerCase();if(d===w||d===x)u(this,function(b){c.call(this,a,b)},e);else{if("img"===this.tagName.toLowerCase()&&("width"===d||"setwidth"===d||"height"===d||"setheight"===d))(d=b.call(this,v))&&u(this,function(a){c.call(this,w,a)},d);c.call(this,
a,e)}};var d=a.prototype.removeAttribute;a.prototype.removeAttribute=function(a){var c=a.toLowerCase();(c===w||c===x)&&b.call(this,v)&&d.call(this,v);d.call(this,a)}}function A(a,b,c){a[B].defineProperty(b.prototype,ja+c,{set:function(a){this[c]=a},get:function(){return this[c]}})}
function ka(a,b){var c=b.charAt(0).toUpperCase()+b.slice(1);a.prototype[la+c]=function(a){this[b]=a};a.prototype[ma+c]=function(){return this[b]};Object.defineProperty(a.prototype,ja+b,{set:function(a){u(this,function(a){this[b]=a},a)},get:function(){return ha(this,function(){return this[b]},i)}})}
function na(a,b){var c=Object.getOwnPropertyDescriptor(a.prototype,b);if(c){var d=b.charAt(0).toUpperCase()+b.slice(1);a.prototype[la+d]=function(a){try{c.set.call(this,a)}catch(d){if(8===document.documentMode)this.attributes[b].value=a;else throw d;}};a.prototype[ma+d]=function(){try{return c.get.call(this)}catch(a){if(8===document.documentMode)return this.attributes[b].value;throw a;}};Object.defineProperty(a.prototype,b,{set:function(a){u(this,function(a){c.set.call(this,a)},a)},get:function(){return ha(this,
function(){return c.get.call(this)},i)}})}}
function oa(){var a,b;if(frames.length!=pa){var c=document.getElementsByTagName("iframe");a=0;for(b=c.length;a<b;++a)c[a].hasAttribute(qa)||("about:blank"===c[a].src||c[a].src===window.location.href)&&C.push(c[a]);pa=frames.length}if(0<C.length)for(a=C.length-1;0<=a;--a){try{if(!C[a].contentWindow)break;var d=C[a].contentWindow.document;if("interactive"===d.readyState||"complete"===d.readyState)C[a].hasAttribute(qa)||(C[a].setAttribute(qa,"true"),D.push(C[a].contentWindow));else break}catch(f){C[a].setAttribute(qa,
"true")}C.pop()}if(0<D.length){a=0;for(b=D.length;a<b;++a)c=D[a],A(c,c[B],w),A(c,c[B],x),typeof c[ra]!==E&&A(c,c[ra],w),typeof c[sa]!==E&&A(c,c[sa],x),typeof c[ta]!==E&&A(c,c[ta],w),typeof c[ua]!==E&&A(c,c[ua],w);D=[]}}var v="data-aptsrc",qa="data-aptiframe",la="__aptSetOriginal",ma="__aptGetOriginal",w="src",x="href",E="undefined",B="Object",ja="__apt",va=ja+x,ra="HTMLScriptElement",sa="HTMLLinkElement",ta="HTMLImageElement",ua="HTMLInputElement",ga=[],pa=-1,C=[],D=[];
aptimizer.addInterceptionListener=function(a){ga.push(a)};Object.defineProperty||(aptimizer.scriptInterceptor=k);
if(aptimizer.scriptInterceptor)if(typeof HTMLScriptElement!==E&&ia(HTMLScriptElement),typeof HTMLLinkElement!==E&&ia(HTMLLinkElement),typeof HTMLImageElement!==E&&ia(HTMLImageElement),typeof HTMLInputElement!==E&&ia(HTMLInputElement),document.documentMode)typeof HTMLScriptElement!==E&&na(HTMLScriptElement,w),typeof HTMLLinkElement!==E&&na(HTMLLinkElement,x),typeof HTMLImageElement!==E&&na(HTMLImageElement,w),typeof HTMLInputElement!==E&&na(HTMLInputElement,w);else{A(window,window[B],w);A(window,window[B],
x);typeof HTMLScriptElement!==E&&ka(HTMLScriptElement,w);typeof HTMLLinkElement!==E&&ka(HTMLLinkElement,x);typeof HTMLImageElement!==E&&ka(HTMLImageElement,w);typeof HTMLInputElement!==E&&ka(HTMLInputElement,w);if(typeof window.location[va]===E)try{Object.defineProperty(window.location,va,{set:function(a){this.href=a},get:function(){return this.href}})}catch(wa){}aptimizer.addBodyStartListener(function(){oa();var a=setInterval(oa,200);aptimizer.f(function(){window.clearInterval(a)})})}
function xa(a,b,c,d,f,e,g){for(var h="Can't override XHR responses for non-GET or authenticated requests "+b,m="Can't override XHR handlers for sync requests "+b,q="Can't override XHR data for async requests "+b,y=0,z=ya.length;y<z;++y){var G=ya[y](b,c);if(G){if(G.redirect)return g.call(e,a,G.redirect,c,d,f),i;if(G.data)if("GET"!==a||d||f)aptimizer.log(0,h);else if(c)aptimizer.log(0,q);else return this[F]=i,this[H]=b,this[I]=4,this[J]=G.data,i;else if(G.handler)if("GET"!==a||d||f)aptimizer.log(0,
h);else{if(c)return this[F]=i,this[K]=G.handler,this[H]=b,this[I]=1,i;aptimizer.log(0,m)}}}return k}function za(a,b){if(document.createEvent){var c=document.createEvent("HTMLEvents"),d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);c.initEvent(a,k,k);this.dispatchEvent(c)}else aptimizer.log(0,"Cannot fire "+a+" event")}function Aa(a,b){return function(){var c=Array.prototype.slice.call(arguments);a[b].apply(a,c)}}
function Ba(a,b){function c(){for(var c=Array.prototype.slice.call(arguments),f=0,e=c.length;f<e;++f)if(c[f].target===a[L]||c[f].currentTarget===a[L]){var g=c,h=f,m=a,q=c[f],y={},z=void 0;for(z in q)y[z]="target"===z||"currentTarget"===z?m:"function"===typeof q[z]?Aa(q,z):q[z];g[h]=y}return b.apply(a,c)}c[L]=b;return c}
function M(a,b){var c=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,a);Object.defineProperty(XMLHttpRequest.prototype,a,{get:function(){return this[F]?b.call(this):c.get.call(this)}})}function N(a,b,c){Object.defineProperty(a,b,{get:function(){return this[F]?c.call(this):this[L][b]}})}function O(a,b){Object.defineProperty(a,b,{get:function(){return this[L][b]?this[L][b][L]:j},set:function(a){this[L][b]=Ba(this,a)}})}
function Ca(a,b){Object.defineProperty(a,b,{get:function(){return this[L][b]},set:function(a){this[L][b]=a}})}var F="__aptOverridden",K="__aptSendHandler",H="__aptUrl",I="__aptState",L="__aptInner",J="__aptResponse",ya=[];aptimizer.addXHRInterceptionListener=function(a){ya.push(a)};Object.defineProperty||(aptimizer.xhrInterceptor=k);
if(aptimizer.xhrInterceptor)if(document.documentMode&&8===document.documentMode){M("readyState",function(){return this[I]});M("responseBody",function(){if(this[J])throw Error("Cannot get for overridden XHR response");return j});M("responseXML",function(){if(this[J])throw Error("Cannot get for overridden XHR response");return j});M("responseText",function(){return this[J]});M("status",function(){return this[J]?200:0});M("statusText",function(){return this[J]?"OK":""});var Da=XMLHttpRequest.prototype.open;
XMLHttpRequest.prototype.open=function(a,b,c,d,f){xa.call(this,a,b,c,d,f,this,Da)||Da.call(this,a,b,c,d,f)};var Ea=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(a){if(this[F]){if(this[K]){var b=this;this[K](function(a){b[I]=4;b[J]=a;if(b.onreadystatechange)b.onreadystatechange()},function(){b[F]=k;Da.call(b,"GET",b[H],i);Ea.call(b,a)})}}else Ea.call(this,a)};var Fa=XMLHttpRequest.prototype.getAllResponseHeaders;XMLHttpRequest.prototype.getAllResponseHeaders=function(){if(this[F])throw Error("Cannot get for overridden XHR response");
return Fa.call(this)};var Ga=XMLHttpRequest.prototype.getResponseHeader;XMLHttpRequest.prototype.getResponseHeader=function(a){if(this[F])throw Error("Cannot get for overridden XHR response");return Ga.call(this,a)}}else{var Ha=window.XMLHttpRequest,P=function(){this[L]=new Ha;this[J]=j;this[F]=k;this[H]=j;this.UNSENT=this[I]=0;this.OPENED=1;this.HEADERS_RECEIVED=2;this.LOADING=3;this.DONE=4;O(this,"onloadstart");O(this,"onprogress");O(this,"onabort");O(this,"onerror");O(this,"onload");O(this,"ontimeout");
O(this,"onloadend");O(this,"onreadystatechange");N(this,"readyState",function(){return this[I]});N(this,"response",function(){return this[J]});N(this,"responseText",function(){return this[J]});Object.defineProperty(this,"responseType",{get:function(){return this[F]?"text":this[L].responseType},set:function(a){this[L].responseType=a}});N(this,"responseXML",function(){if(this[J])throw Error("Cannot get for overridden XHR response");return j});N(this,"status",function(){return this[J]?200:0});N(this,
"statusText",function(){return this[J]?"OK":""});Ca(this,"timeout");Ca(this,"upload");Ca(this,"withCredentials");N(this,"responseBody",function(){if(this[J])throw Error("Cannot get for overridden XHR response");return j});Ca(this,"msCaching")};P.prototype.open=function(a,b,c,d,f){xa.call(this,a,b,c,d,f,this[L],this[L].open)||this[L].open(a,b,c,d,f)};P.prototype.send=function(a){if(this[F]){if(this[K]){var b=this;this[K](function(a){b[I]=b.DONE;b[J]=a;za.call(b,"readystatechange");a={lengthComputable:i,
loaded:a.length,total:a.length,F:a.length,position:a.length};za.call(b,"progress",a);za.call(b,"load",a);za.call(b,"loadend",a)},function(){b[F]=k;b[L].open("GET",b[H],i);b[L].send()})}}else this[L].send(a)};P.prototype.abort=function(){this[F]||this[L].abort()};P.prototype.getAllResponseHeaders=function(){if(this[F])throw Error("Cannot get for overridden XHR response");return this[L].getAllResponseHeaders()};P.prototype.getResponseHeader=function(a){if(this[F])throw Error("Cannot get for overridden XHR response");
return this[L].getResponseHeader(a)};P.prototype.overrideMimeType=function(a){return this[L].overrideMimeType(a)};P.prototype.setRequestHeader=function(a,b){return this[L].setRequestHeader(a,b)};P.prototype.addEventListener=function(a,b,c){return this[L].addEventListener(a,Ba(this,b),c)};P.prototype.removeEventListener=function(a,b,c){return this[L].removeEventListener(a,b[L]?b[L]:b,c)};P.prototype.dispatchEvent=function(a){return this[L].dispatchEvent(a)};P.prototype.toString=l("[object XMLHttpRequest]");
P.prototype.msCachingEnabled=function(){return this[L].C()};var Ia=function(){return new P};Ia.prototype=P.prototype;window.XMLHttpRequest=Ia}
function Ja(a){a=a.value;if(0>a.indexOf(Ka))return a;a=aptimizer.b(a,La,l(""));a=a.replace(Ma,"src");0<a.toLowerCase().indexOf("class")&&(a=aptimizer.b(a,Na,function(a){return aptimizer.b(a.value,aptimizer.m,l(""))}));0<a.toLowerCase().indexOf("data-aptkey")&&(a=aptimizer.b(a,Oa,l("")),a=aptimizer.b(a,Pa,l("")),a=a.replace('data-aptonload="','onload="'));return a}function Qa(a){a=a.value;if(0>a.indexOf(Ka))return a;a=aptimizer.b(a,Ra,l(""));return a=a.replace(Ma,"href")}
function Sa(a){for(var b=0,c=a.elements.length;b<c;++b){var d=a.elements[b];if(d.value&&0<d.value.indexOf(Ka)){var f=aptimizer.b(d.value,Ta,Ja),f=aptimizer.b(f,Ua,Ja),f=aptimizer.b(f,Va,Qa);d.value=f}}}function Wa(a){a.addEventListener?(a[Q]?a.removeEventListener(R,a[Q],i):a[Q]=function(a){Sa(a.target);return i},a[Xa].call(a,R,a[Q],i)):a.attachEvent&&!a[Q]&&(a[Q]=function(a){Sa(a.srcElement);return i},a[Ya].call(a,"on"+R,a[Q]))}
var Ma="data-aptsrc",Ka=Ma+"=",Q="__aptSubmitFilter",Xa="__aptOriginalAddEventListener",Ya="__aptOriginalAttachEvent",R="submit",Ta=/<img([^<>+]*?)\/??>/gi,Ua=/<script([^<>+]*?)\/??>/gi,Va=/<link([^<>+]*?)\/??>/gi,Ra=/\s+href=(['""]).*?\1/gi,La=/\s+src=(['""]).*?\1/gi,Na=/\s+class=(['""]).*?\1/gi,Oa=/\s+data-aptkey=(['""]).*?\1/gi,Pa=/onload=[""']?aptimizer\.renderFromStream\(this\);[""']?/gi;
if(aptimizer.formSubmissionFilter&&"undefined"!==typeof HTMLFormElement&&HTMLFormElement.prototype){var Za=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){Sa(this);Za.call(this)};var $a=HTMLFormElement.prototype.addEventListener;if($a)HTMLFormElement.prototype[Xa]=$a,HTMLFormElement.prototype.addEventListener=function(){this[Xa].apply(this,arguments);arguments[0]===R&&Wa(this)};else{var ab=HTMLFormElement.prototype.attachEvent;ab&&(HTMLFormElement.prototype[Ya]=ab,HTMLFormElement.prototype.attachEvent=
function(){arguments[0]==="on"+R&&Wa(this);this[Ya].apply(this,arguments)})}var bb=document.createElement;document.createElement=function(a){return"form"===a.toLowerCase()?(a=bb.call(document,a),Wa(a),a):bb.call(document,a)};aptimizer.addBodyEndListener(function(){for(var a=0,b=document.forms.length;a<b;++a)Wa(document.forms[a])})}
aptimizer.scriptInterceptor&&aptimizer.sharepointOptimizations&&aptimizer.addInterceptionListener(function(a,b,c){if("SCRIPT"!==a.tagName||0>b.indexOf("/_layouts/"))return k;aptimizer.n=aptimizer.n||!document.getElementById("s4-ribbonrow")||"none"===document.getElementById("s4-ribbonrow").style.display;return aptimizer.n?(a.removeAttribute("data-aptsrc"),c.call(a,b),i):k});
function cb(a){if(db[a.origin]&&"string"===typeof a.data){var b,c;if(0===a.data.indexOf("__aptimizer_end__")){if(--S,0===S){for(b in T)if(T.hasOwnProperty(b)&&T[b].a){a=0;for(c=T[b].a.length;a<c;++a){var d=T[b].a[a];d.u(d.index)}delete T.a}a=0;for(c=eb.length;a<c;++a)document.body.removeChild(eb[a]);eb=[]}}else if(0===a.data.indexOf(fb)&&(c=a.data.indexOf(gb),0<c&&(b=fb.length,b=a.data.substr(b,c-b),c=a.data.substr(c+gb.length),(a=T[b])?(a.a||aptimizer.log(0,"Duplicate key detected "+b),a.data=c):
(a={data:c},T[b]=a),a.a))){b=a.a;delete a.a;for(a=0;a<b.length;++a)b[a].B(c,b[a].index)}}}function hb(a){var b=document.createElement("iframe");b.width=0;b.height=0;b.border=0;b.style.display="none";0===a.indexOf("/")?b.src=aptimizer.d+a.substring(1):(db[a.substring(0,a.indexOf("/",a.indexOf("//")+3))]=i,b.src=a);document.body.appendChild(b);eb.push(b)}
function ib(a,b,c,d,f){var e;if(c&&c.length&&(e=c[b],b<c.length-1))var g=d,d=function(d,e){g(d,e);ib(a,b+1,c,g,f)};var h;if(jb[a]){if(!e)return;if((h=T[e])&&h.data){d(h.data,b);return}if(0===S){f(b);return}}else jb[a]=i,++S,kb?hb(a):lb[a]=i;e&&(h?h.a||(h.a=[]):(h={a:[]},T[e]=h),h.a.push({B:d,u:f,index:b}))}var fb="__aptimizer__",gb="::",kb=k,lb={},eb=[],jb={},S=0,T={},db={};db[window.location.protocol+"//"+window.location.host]=i;aptimizer.s=function(){0===S&&(T={},jb={})};
aptimizer.c=function(a,b,c,d){ib(a,0,b,c,d)};aptimizer.v=function(a,b){var c;return jb[a]&&(c=T[b])&&c.data?c.data:j};aptimizer.addBodyStartListener(function(){kb=i;for(var a in lb)lb.hasOwnProperty(a)&&hb(a);lb=j});aptimizer.e("message",cb);aptimizer.f(function(){aptimizer.k("message",cb)});
function mb(a,b,c,d,f){var e="1026#\n",g;for(g=c;g<d;++g)e+=b[g].size+"#"+b[g].url,g<d-1&&(e+="\n");e=aptimizer.t(e);if(e.length>aptimizer.maxUrlLength&&1<d-c)g=Math.floor((d-c)/2),mb(a,b,c,c+g,f),mb(a,b,c+g,d,f);else{var h="";for(g=c;g<d;++g)h+=b[g].hash+b[g].size;e="/aptimized-stream-"+aptimizer.q(h)+"-"+e+".stream";0<a.length&&(e=0>a.indexOf("://")?window.location.protocol+"//"+a+e:a+e);a=U.z(e);for(g=c;g<d;++g)b[g].streamId=a,U.put(b[g].size+b[g].url,b[g]);f[a]=e}}
function nb(a){V.push(a);W||(W=window.requestAnimationFrame?window.requestAnimationFrame(ob):setInterval(ob,16))}function ob(){for(var a=0,b=V.length;a<b;++a)V[a]();V=[];window.requestAnimationFrame?window.cancelAnimationFrame(W):clearInterval(W);W=0}function pb(a){for(var b=["onload","onreadystatechange"],c=0;c<b.length;++c){var d=b[c],f=a.getAttribute("data-apt"+d);a.removeAttribute(d);a[d]=j;f&&(a.setAttribute(d,f),a.removeAttribute("data-apt"+d))}}
function qb(){var a,b=+new Date;this.getData=function(){return a};this.clear=function(){a={resources:{},streams:{},nextId:0}};this.w=function(){return 0===a.nextId};this.get=function(c){var d=a.resources[c];return!d?j:b-new Date(d.created)>aptimizer.streamExpiryTime?(this.remove(c),j):d};this.remove=function(b){var c=a.resources[b];if(c){var d=a.streams[c.streamId];d&&0===--d.refCount&&delete a.streams[c.streamId];delete a.resources[b]}};this.put=function(c,d){this.remove(c);d.created=b;a.streams[d.streamId].refCount++;
a.resources[c]=d};this.z=function(b){var c=a.streams,d;for(d in c)if(c.hasOwnProperty(d)&&c[d].url===b)return d;d=a.nextId;++a.nextId==d&&(this.clear(),d=a.nextId++);c[d]={url:b,refCount:0};return d};this.h=function(b){return(b=a.streams[b])?b.url:j};this.compact=function(){var c=a.resources,d;for(d in c)c.hasOwnProperty(d)&&b-c[d].created>aptimizer.streamExpiryTime&&this.remove(d)};this.l=function(){try{localStorage.setItem(rb,JSON.stringify(a))}catch(b){localStorage.removeItem(rb),this.clear()}};
var c=localStorage.getItem(rb);if(c)try{a=JSON.parse(c)}catch(d){aptimizer.log(0,"Failed to load aptimizer index "+d)}a||this.clear()}var rb="__aptimizer_stream_index__",V=[],W=0,X=[];aptimizer.streamsGenerated=0;
aptimizer.renderFromStream=function(a){var b=a.getAttribute("data-aptkey");pb(a);if(b&&(a.removeAttribute("data-aptkey"),0===a.__aptGetOriginalSrc().indexOf("data:"))){var c=U.get(b),d=j;c&&(d=U.h(c.streamId));if(d){var f=c.hash+c.size+c.url,e=[];c.multipart?(e.push("0_"+f),e.push("1_"+f)):e.push(f);aptimizer.c(d,e,function(b,c){nb(function(){0===a.__aptGetOriginalSrc().indexOf("data:")&&(0===c?a.__aptSetOriginalSrc(b):a.__aptSetOriginalSrc(a.__aptGetOriginalSrc()+b),aptimizer.j(a))})},function(c){aptimizer.log(0,
"Image '"+f+":"+c+"' data failed to load from stream '"+d+"' - reverting to standard image loading & removing from index");U.remove(b);a.__aptSetOriginalSrc(a.getAttribute("data-aptsrc"));a.removeAttribute("data-aptsrc")})}else aptimizer.log(0,"Image '"+b+"' has no associated stream - reverting to standard image loading"),a.__aptSetOriginalSrc(a.getAttribute("data-aptsrc")),a.removeAttribute("data-aptsrc")}};
aptimizer.generateStreams=function(a){if(window.localStorage&&aptimizer.scriptInterceptor){1<aptimizer.streamsGenerated++&&aptimizer.s();var b={},c={},d;for(d in a)if(a.hasOwnProperty(d)){var f=a[d],e=U.get(d);if(e&&e.hash===f.hash&&e.length===f.length&&e.cdn===f.cdn){if(e.cached=i,f=U.h(e.streamId))c[e.streamId]=f,X.push(e)}else e=b[f.cdn],e||(e=[],b[f.cdn]=e),f={url:f.url,hash:f.hash,length:f.length,multipart:f.multipart,size:f.size,cdn:f.cdn,streamId:"0"},X.push(f),e.push(f)}for(var g in b)if(b.hasOwnProperty(g)){a=
b[g];d=a.length;f=Math.min(Math.max(2,Math.ceil(d/aptimizer.targetStreamCount)),aptimizer.maxStreamImageCount);for(e=0;e<d;){for(var h=0,m=e,q=0;q<f&&m<d;++q){h+=a[m].length;if(h>aptimizer.maxStreamSize)break;++m}if(m==e){aptimizer.log(0,"Resource size is greater than the stream max size");break}mb(g,a,e,m,c);e=m}}U.l();for(var y in c)c.hasOwnProperty(y)&&aptimizer.c(c[y])}};
if(!window.localStorage||!aptimizer.scriptInterceptor)aptimizer.log(0,"Local storage or the script interceptor is not supported by this browser, reverting to standard image loading"),aptimizer.renderFromStream=function(a){pb(a);a.getAttribute("data-aptkey")&&(a.removeAttribute("data-aptkey"),aptimizer.scriptInterceptor?a.__aptSetOriginalSrc(a.getAttribute("data-aptsrc")):a.src=a.getAttribute("data-aptsrc"),a.removeAttribute("data-aptsrc"))};else{var U=new qb,sb=localStorage.getItem("__aptimizer_settings__");
if(sb){var tb=JSON.parse(sb);if(aptimizer.maxStreamSize!=tb.maxStreamSize||aptimizer.maxStreamImageCount!=tb.maxStreamImageCount||aptimizer.targetStreamCount!=tb.targetStreamCount||5!=tb.imageStreamSchema)aptimizer.log(0,"Aptimizer API or streaming settings have changed, clearing stream index..."),U.clear()}localStorage.setItem("__aptimizer_settings__",JSON.stringify({maxStreamSize:aptimizer.maxStreamSize,maxStreamImageCount:aptimizer.maxStreamImageCount,targetStreamCount:aptimizer.targetStreamCount,
imageStreamSchema:5}));aptimizer.addBodyEndListener(function(){if(aptimizer.ib&&!U.w()){var a={},b,c;b=0;for(c=X.length;b<c;++b){var d=X[b].streamId;if(a[d])a[d].g.push(X[b]);else{var f=U.h(d);f&&(a[d]={p:f,g:[X[b]]})}}var d=[],f=aptimizer.ib.data.images,e;for(e in a)if(a.hasOwnProperty(e)){var g=a[e],h={url:g.p,key:g.p,state:"OK",cached:g.g[0].cached?"Yes":"No",fetchTime:0,optimizerTime:0,settings:"-",children:[]};b=0;for(c=g.g.length;b<c;++b)for(var m=0;m<c;++m)if(f[m].key===g.g[b].url){h.children.push(f[m]);
f.splice(m,1);break}d.push(h)}d.length&&(aptimizer.ib.addTableHeader("Streamed Images"),aptimizer.ib.addContent(d,0));if(aptimizer.debugMode){aptimizer.ib.clearIndex=function(){U.clear();U.l();var a=document.getElementById("aptimize-ib-tbl-debug");a&&a.parentNode.removeChild(a)};b=document.getElementById("aptimize-ib-tbl-debug");a=b.firstElementChild||b.children[0];c=U.getData();e=document.createElement("tr");e.className="aptimize-ib-headers";aptimizer.ib.addCol(e,"Resource");aptimizer.ib.addCol(e,
"Hash");aptimizer.ib.addCol(e,"Multipart",80);aptimizer.ib.addCol(e,"Stream Id",80);aptimizer.ib.addCol(e,"Size",100);aptimizer.ib.addCol(e,"Expires",100);a.appendChild(e);b=0;for(var q in c.resources)c.resources.hasOwnProperty(q)&&(d=c.resources[q],e=document.createElement("tr"),e.className=0===b++%2?"aptimize-ib-flop":"aptimize-ib-flip",aptimizer.ib.addCol(e,aptimizer.ib.formatUrl(q)),aptimizer.ib.addCol(e,d.hash),aptimizer.ib.addCol(e,d.multipart),aptimizer.ib.addCol(e,d.streamId),aptimizer.ib.addCol(e,
d.length),aptimizer.ib.addCol(e,new Date(d.created+aptimizer.streamExpiryTime)),a.appendChild(e));e=document.createElement("tr");e.className="aptimize-ib-headers";aptimizer.ib.addCol(e,"Stream Id");aptimizer.ib.addCol(e,"Url").colSpan="4";aptimizer.ib.addCol(e,"RefCount");a.appendChild(e);for(b in c.streams)c.streams.hasOwnProperty(b)&&(e=document.createElement("tr"),aptimizer.ib.addCol(e,b),aptimizer.ib.addCol(e,'<a href="'+c.streams[b].url+'" target="_blank">'+aptimizer.ib.formatUrl(c.streams[b].url)+
"</a>").colSpan="4",aptimizer.ib.addCol(e,c.streams[b].refCount),a.appendChild(e))}}});aptimizer.addInterceptionListener(function(a,b,c){if(!aptimizer.imageStreaming||"IMG"!==a.tagName)return k;var d=aptimizer.i(b);0===d.indexOf(aptimizer.d)&&(d=d.substring(aptimizer.d.length-1));var f=U.get(d);if(!f)return k;var e=U.h(f.streamId);if(!e)return k;for(var g=a;g.parentNode;)g=g.parentNode;if(!g.body)return k;a.setAttribute("data-aptsrc",b);var h=f.hash+f.size+f.url,g=[];f.multipart?(g.push("0_"+h),g.push("1_"+
h)):g.push(h);aptimizer.c(e,g,function(b,c){nb(function(){0===c?a.__aptSetOriginalSrc(b):a.__aptSetOriginalSrc(a.__aptGetOriginalSrc()+b);aptimizer.j(a)})},function(f){aptimizer.log(0,"Image '"+h+":"+f+"' data failed to load from stream '"+e+"' - reverting to standard image loading & removing from index");a.removeAttribute("data-aptsrc");c.call(a,b);U.remove(d)});return i});aptimizer.f(function(){V=[];W&&(window.requestAnimationFrame?window.cancelAnimationFrame(W):clearInterval(W));U.compact();U.l()})}
function ub(a,b){var c,d,f=k,e,g;c=0;for(g=aptimizer.resources.length;c<g;++c){var h=aptimizer.resources[c].components;d=0;for(e=h.length;d<e;++d)if(0<=a.indexOf(h[d])){f=i;break}if(f)break}return f?(b(aptimizer.resources[c].combined,aptimizer.resources[c].components[d]),i):k}
function vb(a,b){if(document.createEventObject){if(a.readyState)try{var c=document.createEventObject();c.type=wb;a.fireEvent("on"+wb,c)}catch(d){}if(b)try{var f=document.createEventObject();f.type=xb;a.fireEvent("on"+xb,f)}catch(e){}}else document.createEvent?b&&(c=document.createEvent("HTMLEvents"),c.initEvent(xb,k,k),a.dispatchEvent(c)):aptimizer.log(0,"Cannot fire load events")}var wb="readystatechange",xb="load";
if(aptimizer.resources){for(var yb=0;yb<aptimizer.resources.length;++yb)aptimizer.c(aptimizer.resources[yb].combined);aptimizer.xhrInterceptor&&aptimizer.addXHRInterceptionListener(function(a,b){var c=j;ub(a,function(a,f){if(b)c={handler:function(b,c){aptimizer.c(a,[f],function(a){setTimeout(function(){b(a)},0)},c)}};else{var e=aptimizer.v(a,f);e&&(c={data:e})}});return c});aptimizer.scriptInterceptor&&aptimizer.addInterceptionListener(function(a,b,c){return"SCRIPT"!==a.tagName?k:ub(b,function(d,
f){a.setAttribute("data-aptsrc",b);a.readyState&&(a.__aptReadyState||Object.defineProperty(a,"readyState",{get:function(){return this.__aptReadyState}}),a.__aptReadyState="loading",vb(a,k));aptimizer.c(d,[f],function(b){setTimeout(function(){a.__aptReadyState&&(a.__aptReadyState="complete");a.text=b;vb(a,i);a=j},0)},function(){a.__aptReadyState&&delete a.readyState;a.removeAttribute("data-aptsrc");c.call(a,b)})})})}
function zb(a){a=aptimizer.i(a);0===a.indexOf(aptimizer.d)&&(a=a.substring(aptimizer.d.length-1));return a}aptimizer.versionedResources&&(aptimizer.xhrInterceptor&&aptimizer.addXHRInterceptionListener(function(a){a=zb(a);return(a=aptimizer.versionedResources[a])?{redirect:a}:j}),aptimizer.scriptInterceptor&&aptimizer.addInterceptionListener(function(a,b,c){var d=zb(b);return(d=aptimizer.versionedResources[d])?(a.setAttribute("data-aptsrc",b),c.call(a,d),i):k}));
function Ab(a,b){var b=b.toLowerCase(),a=a.toLowerCase(),c=Bb[a];if(!c){for(var c=a,d=[],f=0,e=0;;){var g=c.indexOf("*",e),e=c.indexOf("?",e),e=0>g?e:0>e?g:Math.min(g,e);if(0>e){f!==c.length&&(f=c.substring(f,c.length).replace("\\?","?").replace("\\*","*"),d.push(f));break}if(0===e||"\\"!=c[e-1])f!==e&&(f=c.substring(f,e).replace("\\?","?").replace("\\*","*"),d.push(f)),d.push(c[e]),f=e+1;++e}c=d;Bb[a]=c}d="";e=f=0;for(g=c.length;f<g;++f)if("?"===c[f])d="?",++e;else if("*"===c[f]){if(f===g-1)return i;
d="*"}else{var h=b.indexOf(c[f],e);if(0>h||"?"==d&&h!==e)return k;e=h+c[f].length}return e===b.length}
function Cb(a,b){if("Contains"===b[Y])return 0<=a.indexOf(b[Z]);if("StartsWith"===b[Y])return 0===a.indexOf(b[Z]);if("EndsWith"===b[Y]){var c=a.indexOf(b[Z]);return 0<=c&&c===a.length-b[Z].length}if("Wildcard"===b[Y])c=Ab(b[Z],a);else if("Regex"===b[Y]){var d=b[Z];try{var f=Db[d];f||(f=RegExp(d),Db[d]=f);c=0<=a.search(f)}catch(e){aptimizer.log(0,"Unable to compile regular expression "+d),c=k}}else c=k;return c}
function Eb(a){var b=aptimizer[$][Fb],a=aptimizer.i(a),c=a.substr(a.indexOf("/",a.indexOf("//")+2)),d,f,e=0!==a.indexOf(window.location.protocol+"//"+window.location.host);if(e&&aptimizer[Gb][Hb].length){d=0;for(f=aptimizer[Gb][Hb].length;d<f;++d)if(0===a.indexOf(window.location.protocol+"//"+aptimizer[Gb][Hb][d])){e=k;break}}d=0;for(f=aptimizer[$][Ib].length;d<f;++d){var g=aptimizer[$][Ib][d];if(g[Jb]===e&&Cb(e?a:c,g))if(b=g[Fb],!g[Kb])break}return b.length?(0!==b.indexOf("http://")&&0!==b.indexOf("https://")&&
(b=window.location.protocol+"//"+b),b.lastIndexOf("/")===b.length-1&&(b=b.substring(0,b.length-1)),b+c):j}var $="cdn",Ib="rules",Fb="rewriteToCdn",Gb="scope",Y="matchType",Z="path",Kb="chain",Hb="hostnames",Jb="externalContent",Db={},Bb={};
if(aptimizer[$]&&(aptimizer[$][Fb].length||aptimizer[$][Ib].length))aptimizer.xhrInterceptor&&aptimizer.addXHRInterceptionListener(function(a){return(a=Eb(a))?{redirect:a}:j}),aptimizer.scriptInterceptor&&aptimizer.addInterceptionListener(function(a,b,c){var d=Eb(b);return d?(a.setAttribute("data-aptsrc",b),c.call(a,d),i):k});
})();